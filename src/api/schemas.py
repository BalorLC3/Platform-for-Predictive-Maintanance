from pydantic import BaseModel
from typing import List

# --- THE CORRECT, MODERN VERSION ---
class TurbofanDataInput(BaseModel):
    data: List[List[float]]

    class Config:
        # Pydantic V2 uses json_schema_extra to provide examples
        json_schema_extra = {
            "example": {
                "data": [
                    # A valid example must have at least 30 rows and exactly 14 columns per row
                    [0.6, 0.7, 0.1, 0.9, 0.2, 0.5, 0.3, 0.8, 0.4, 0.0, 0.7, 0.2, 0.6, 0.1],
                    [0.1, 0.2, 0.8, 0.5, 0.9, 0.0, 0.7, 0.3, 0.6, 0.4, 0.2, 0.9, 0.1, 0.5],
                    [0.8, 0.3, 0.5, 0.2, 0.6, 0.7, 0.4, 0.9, 0.1, 0.0, 0.3, 0.5, 0.8, 0.2],
                    [0.4, 0.9, 0.0, 0.7, 0.3, 0.1, 0.6, 0.2, 0.5, 0.8, 0.9, 0.0, 0.4, 0.7],
                    [0.2, 0.5, 0.7, 0.3, 0.8, 0.4, 0.9, 0.0, 0.1, 0.6, 0.5, 0.7, 0.2, 0.3],
                    [0.9, 0.0, 0.4, 0.6, 0.1, 0.2, 0.5, 0.7, 0.8, 0.3, 0.0, 0.4, 0.9, 0.6],
                    [0.7, 0.4, 0.2, 0.0, 0.5, 0.9, 0.1, 0.6, 0.3, 0.8, 0.4, 0.2, 0.7, 0.0],
                    [0.3, 0.6, 0.9, 0.1, 0.0, 0.8, 0.2, 0.4, 0.7, 0.5, 0.6, 0.9, 0.3, 0.8],
                    [0.5, 0.1, 0.3, 0.8, 0.7, 0.6, 0.0, 0.5, 0.2, 0.9, 0.1, 0.3, 0.5, 0.4],
                    [0.0, 0.8, 0.6, 0.4, 0.9, 0.3, 0.7, 0.1, 0.0, 0.2, 0.8, 0.6, 0.0, 0.9],
                    [0.6, 0.7, 0.1, 0.9, 0.2, 0.5, 0.3, 0.8, 0.4, 0.0, 0.7, 0.2, 0.6, 0.1],
                    [0.1, 0.2, 0.8, 0.5, 0.9, 0.0, 0.7, 0.3, 0.6, 0.4, 0.2, 0.9, 0.1, 0.5],
                    [0.8, 0.3, 0.5, 0.2, 0.6, 0.7, 0.4, 0.9, 0.1, 0.0, 0.3, 0.5, 0.8, 0.2],
                    [0.4, 0.9, 0.0, 0.7, 0.3, 0.1, 0.6, 0.2, 0.5, 0.8, 0.9, 0.0, 0.4, 0.7],
                    [0.2, 0.5, 0.7, 0.3, 0.8, 0.4, 0.9, 0.0, 0.1, 0.6, 0.5, 0.7, 0.2, 0.3],
                    [0.9, 0.0, 0.4, 0.6, 0.1, 0.2, 0.5, 0.7, 0.8, 0.3, 0.0, 0.4, 0.9, 0.6],
                    [0.7, 0.4, 0.2, 0.0, 0.5, 0.9, 0.1, 0.6, 0.3, 0.8, 0.4, 0.2, 0.7, 0.0],
                    [0.3, 0.6, 0.9, 0.1, 0.0, 0.8, 0.2, 0.4, 0.7, 0.5, 0.6, 0.9, 0.3, 0.8],
                    [0.5, 0.1, 0.3, 0.8, 0.7, 0.6, 0.0, 0.5, 0.2, 0.9, 0.1, 0.3, 0.5, 0.4],
                    [0.0, 0.8, 0.6, 0.4, 0.9, 0.3, 0.7, 0.1, 0.0, 0.2, 0.8, 0.6, 0.0, 0.9],
                    [0.6, 0.7, 0.1, 0.9, 0.2, 0.5, 0.3, 0.8, 0.4, 0.0, 0.7, 0.2, 0.6, 0.1],
                    [0.1, 0.2, 0.8, 0.5, 0.9, 0.0, 0.7, 0.3, 0.6, 0.4, 0.2, 0.9, 0.1, 0.5],
                    [0.8, 0.3, 0.5, 0.2, 0.6, 0.7, 0.4, 0.9, 0.1, 0.0, 0.3, 0.5, 0.8, 0.2],
                    [0.4, 0.9, 0.0, 0.7, 0.3, 0.1, 0.6, 0.2, 0.5, 0.8, 0.9, 0.0, 0.4, 0.7],
                    [0.2, 0.5, 0.7, 0.3, 0.8, 0.4, 0.9, 0.0, 0.1, 0.6, 0.5, 0.7, 0.2, 0.3],
                    [0.9, 0.0, 0.4, 0.6, 0.1, 0.2, 0.5, 0.7, 0.8, 0.3, 0.0, 0.4, 0.9, 0.6],
                    [0.7, 0.4, 0.2, 0.0, 0.5, 0.9, 0.1, 0.6, 0.3, 0.8, 0.4, 0.2, 0.7, 0.0],
                    [0.3, 0.6, 0.9, 0.1, 0.0, 0.8, 0.2, 0.4, 0.7, 0.5, 0.6, 0.9, 0.3, 0.8],
                    [0.5, 0.1, 0.3, 0.8, 0.7, 0.6, 0.0, 0.5, 0.2, 0.9, 0.1, 0.3, 0.5, 0.4],
                    [0.0, 0.8, 0.6, 0.4, 0.9, 0.3, 0.7, 0.1, 0.0, 0.2, 0.8, 0.6, 0.0, 0.9]
                ]
            }
        }

class PredictionResponse(BaseModel):
    rul_prediction: float